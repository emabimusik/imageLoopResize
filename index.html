<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Resize</title>
    <script  async  src="./index.js"></script>
    <style type="text/css">
      body{
          margin:0px;
      }
    </style>
</head>
<body>
<canvas></canvas>

</body>

<script>
    var canvas = document.querySelector("canvas");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    var ctx = canvas.getContext('2d');
    console.log(canvas);
    /**


    var ctx = canvas.getContext('2d');
    ctx.fillStyle= 'rgba(255,0,0,0.5)'
    ctx.fillRect(100,100,100,100)
    ctx.fillStyle= 'rgba(0,0,5,0.5)'
    ctx.fillRect(300,300,100,100)
    ctx.fillStyle= 'rgba(180,100,125,0.5)'
    ctx.fillRect(500,600,100,100)
    console.log(canvas);
    console.log(ctx);

    // draw a line
    ctx.beginPath();
    ctx.moveTo(200,300)
    ctx.lineTo(600,500)

    ctx.moveTo(600,500)
    ctx.lineTo(100,500)



    for(var i =0; i < 1000;i++){
        ctx.beginPath();

        var x= Math.random()* window.innerWidth
        var y = Math.random()*window.innerHeight

        ctx.lineTo(x,y)
        ctx.lineTo(200,300)
        ctx.strokeStyle="red";
        ctx.stroke()


    }
    // draw a loop

    for(var i =0; i < 1000;i++){
            ctx.beginPath();

            var x= Math.random()* window.innerWidth
            var y = Math.random()*window.innerHeight

            ctx.arc( x,y,30,0,Math.PI*2 ,false)
            ctx.strokeStyle="blue";
            ctx.stroke()


    }



    */// object oriented circle

        function Circle(x,y,dx,dy,radius) {

          this.x = x;
          this.y = y;
          this.dx = dx;
          this.dy = dy;
          this.radius = radius;

          this.draw = function(){
              ctx.beginPath();
              ctx.arc(this.x,this.y,this.radius,0,Math.PI * 2 ,false)
              ctx.strokeStyle="red";
              ctx.stroke();


          }
          this.update = function(){
              if(this.x + this.radius > innerWidth || this.x-this.radius<0 ){
                  this.dx = - this.dx;
              }
              if(this.y+this.radius > innerHeight || this.y-this.radius<0){
                  this.dy = - this.dy;
              }
              this.x +=this.dx;
              this.y +=this.dy;
              this.draw();
          }
    }

    var circleArray =[];
    for(var i=0;i < 100;i++){
        // create 100 circle, with random width and height, velocity
        var radius = 30;
        var x = Math.random() * (innerWidth - radius * 2) + radius;
        var y = Math.random() * (innerHeight - radius * 2)+ radius;

        // add velocity
        var dx = (Math.random() - 0.5);
        var dy = (Math.random() - 0.5);
        var circle = new Circle(x,y,dx,dy,radius);
        circleArray.push(circle);
        //console.log(circleArray[i]);

    }







    function animate(){

        requestAnimationFrame(animate);
         ctx.clearRect(0,0,innerWidth,innerHeight);
        // loop throug our array and update

        for(var i=0; i < circleArray.length;i++){
            circleArray[i].update();
        }
         //circle.update();


    }
    animate();

</script>
</html>